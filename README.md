# Магазин продуктов

## Описание

Полноценный REST API интернет-магазина с админкой, корзиной пользователя, пагинацией, авторизацией и автотестами.

## Функционал приложения

- Категории и подкатегории (CRUD в админке)
- Продукты (CRUD в админке, изображения в 3 размерах)
- Публичные API с пагинацией (/categories/, /products/)
- Корзина пользователя (только авторизованные)
- Авторизация по токену (/api-token-auth/)
- Swagger документация (/api/docs/)
- Автотесты (GET/POST эндпоинты)
- Фикстуры для тестовых данных

## Инструкция по запуску приложения:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/EffrafaxStafford/grocery_store.git
```

```
cd grocery_store
```

Cоздать и активировать виртуальное окружение:

```
python3.9 -m venv venv
```

```
source venv/bin/activate
```

```
python3 -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Перейти а папку проекта и выполнить миграции:

```
cd grocery_store
```

```
python3 manage.py migrate
```

Загрузить фикстуры в БД:

```
python manage.py loaddata db.json
```

Запустить проект:

```
python manage.py runserver
```

## Администрирование
Для доступа в админ панель перейдите по адресу:
http://127.0.0.1:8000/admin/ и введите данные админ-пользователя:
```
Имя пользователя: admin
Пароль: admin
```

## Авторизация
Токены доступа тестовых пользователей можно увидеть в админ панели в разделе Tokens. Для авторизации новых пользователей добавьте пользователя через админ панель и получите токен отправив post-запрос на адрес: http://127.0.0.1:8000/api-token-auth/ с телом:

```
{
    "username": "username",
    "password":"password"
}
```

Использовать токен:

```
Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b
```

## Swagger документация

Swagger документация доступна по адресу:
http://127.0.0.1:8000/api/docs/


## Тестирование

Для запуска тестов запустите pytest:

```
pytest
```